@import "tailwindcss";

@theme {
  --color-avatar-0: var(--avatar-0);
  --color-avatar-1: var(--avatar-1);
  --color-avatar-2: var(--avatar-2);
  --color-avatar-3: var(--avatar-3);
  --color-avatar-4: var(--avatar-4);
  --color-avatar-5: var(--avatar-5);

  --color-brand: var(--brand);
  --color-brand-hover: var(--brand-hover);
  --color-brand-active: var(--brand-active);
  --color-brand-light: var(--brand-light);

  --color-accent: var(--accent);
  --color-accent-hover: var(--accent-hover);
  --color-accent-light: var(--accent-light);
  --color-accent-hover-light: var(--accent-hover-light);

  --color-bg-base: var(--bg-base);
  --color-bg-sidebar: var(--bg-sidebar);
  --color-bg-input: var(--bg-input);
  --color-bg-input-dark: var(--bg-input-dark);

  --color-surface: var(--surface);
  --color-surface-hover: var(--surface-hover);
  --color-surface-active: var(--surface-active);

  --color-border-strong: var(--border-strong);

  --color-text-base: var(--text-base);
  --color-text-muted: var(--text-muted);

  --color-icon-agent: var(--icon-agent);
  --color-icon-skill: var(--icon-skill);
  --color-icon-mcp: var(--icon-mcp);
  --color-icon-file-template: var(--icon-file-template);
  --color-icon-rule: var(--icon-rule);

  --color-success: var(--success);
  --color-success-light: var(--success-light);
  --color-success-active: var(--success-active);
  --color-warning: var(--warning);
  --color-warning-hover: var(--warning-hover);
  --color-danger: var(--danger);
  --color-danger-hover: var(--danger-hover);
}

:root {
  /* Default: Dark */
  /* Avatar palette — focus on indigo and violet */
  --avatar-0: var(--brand);
  --avatar-1: var(--accent);
  --avatar-2: var(--brand-active);
  --avatar-3: var(--brand-hover);
  --avatar-4: var(--accent-hover);
  --avatar-5: #4f46e5; /* deep indigo */

  --brand: #6366f1; /* Indigo */
  --brand-hover: #818cf8;
  --brand-active: #4f46e5;
  --brand-light: #c7d2fe;
  
  --accent: #8b5cf6; /* Violet */
  --accent-hover: #a78bfa;
  --accent-light: #c4b5fd;
  --accent-hover-light: #ddd6fe;

  --bg-base: #09090b;
  --bg-sidebar: #000000;
  --bg-input: #18181b;
  --bg-input-dark: #09090b;

  --surface: #18181b;
  --surface-hover: #27272a;
  --surface-active: #3f3f46;

  --border-strong: #27272a;

  --text-base: #fafafa;
  --text-muted: #a1a1aa;

  --success: #22c55e;
  --success-light: #4ade80;
  --success-active: #16a34a;
  --warning: #f59e0b;
  --warning-hover: #fbbf24;
  --danger: #ef4444;
  --danger-hover: #f87171;

  --icon-agent: var(--brand);
  --icon-skill: var(--brand);
  --icon-mcp: var(--brand);
  --icon-file-template: var(--brand);
  --icon-rule: var(--brand);
}

[data-theme="corporate-dark"] {
  --icon-agent: var(--text-muted);
  --icon-skill: #d4d4d4;
  --icon-mcp: #d4d4d4;
  --icon-file-template: #d4d4d4;
  --icon-rule: #d4d4d4;

  /* Avatar palette — monochrome grey shades to match the no-colour theme */
  --avatar-0: #4a4a4a;
  --avatar-1: #5a5a5a;
  --avatar-2: #6b6b6b;
  --avatar-3: #7a7a7a;
  --avatar-4: #3a3a3a;
  --avatar-5: #8a8a8a;

  /* Corporate Dark: monochrome black / dark grey / white — no colour */
  --brand: #2a2a2a;
  --brand-hover: #3a3a3a;
  --brand-active: #1a1a1a;
  --brand-light: #4a4a4a;

  --accent: #3a3a3a;
  --accent-hover: #4a4a4a;
  --accent-light: #2a2a2a;
  --accent-hover-light: #1a1a1a;

  --bg-base: #0a0a0a;
  --bg-sidebar: #000000;
  --bg-input: #1a1a1a;
  --bg-input-dark: #0a0a0a;

  --surface: #1a1a1a;
  --surface-hover: #2a2a2a;
  --surface-active: #3a3a3a;

  --border-strong: #2a2a2a;

  --text-base: #f8fafc;
  --text-muted: #a3a3a3;

  --success: #a3a3a3;
  --success-light: #d4d4d4;
  --success-active: #737373;
  --warning: #a3a3a3;
  --warning-hover: #d4d4d4;
  --danger: #737373;
  --danger-hover: #a3a3a3;
}

[data-theme="cyberpunk"] {
  --icon-agent: var(--brand);
  --icon-skill: var(--success);
  --icon-mcp: var(--warning);
  --icon-file-template: var(--accent);
  --icon-rule: var(--accent-hover);

  /* Avatar palette — matches type colors but uses readable darker variants for white text */
  --avatar-0: var(--brand-active);   /* Agent (deeper cyan) */
  --avatar-1: var(--success-active); /* Skill (deeper green) */
  --avatar-2: #d97706;               /* MCP (dark amber instead of unreadable neon yellow) */
  --avatar-3: var(--accent);         /* File Template (purple) */
  --avatar-4: var(--danger);         /* Rule (red) */
  --avatar-5: #9333ea;               /* deep purple */

  --brand: #00f0ff; /* Cyan */
  --brand-hover: #5eead4;
  --brand-active: #0891b2;
  --brand-light: #a5f3fc;
  
  --accent: #b026ff; /* Electric Purple */
  --accent-hover: #c084fc;
  --accent-light: #e879f9;
  --accent-hover-light: #f0abfc;

  --bg-base: #09090b;
  --bg-sidebar: #000000;
  --bg-input: #18181b;
  --bg-input-dark: #09090b;

  --surface: #18181b;
  --surface-hover: #27272a;
  --surface-active: #3f3f46;

  --border-strong: #27272a;

  --text-base: #fafafa;
  --text-muted: #a1a1aa;

  --success: #00ff9d;
  --success-light: #6ee7b7;
  --success-active: #059669;
  --warning: #ffea00;
  --warning-hover: #fde047;
  --danger: #ff0055;
  --danger-hover: #f43f5e;
}

[data-theme="synthwave-glow"] {
  --icon-agent: var(--brand);
  --icon-skill: var(--success);
  --icon-mcp: var(--warning);
  --icon-file-template: var(--accent);
  --icon-rule: var(--accent-hover);

  /* Avatar palette — synthwave magenta/purple tones */
  --avatar-0: var(--brand);
  --avatar-1: var(--brand-active);
  --avatar-2: var(--surface-active);
  --avatar-3: #8b5cf6; /* violet */
  --avatar-4: #d946ef; /* fuchsia */
  --avatar-5: var(--bg-input);

  --brand: #ec4899; /* Magenta */
  --brand-hover: #f472b6;
  --brand-active: #db2777;
  --brand-light: #fbcfe8;
  
  --accent: #f59e0b; /* Amber */
  --accent-hover: #fbbf24;
  --accent-light: #fcd34d;
  --accent-hover-light: #fde68a;

  --bg-base: #2e1065; /* Dark Purple */
  --bg-sidebar: #1e1b4b;
  --bg-input: #4c1d95;
  --bg-input-dark: #2e1065;

  --surface: #4c1d95;
  --surface-hover: #5b21b6;
  --surface-active: #6d28d9;

  --border-strong: #5b21b6;

  --text-base: #fff1f2;
  --text-muted: #d8b4fe;

  --success: #34d399;
  --success-light: #6ee7b7;
  --success-active: #10b981;
  --warning: #fcd34d;
  --warning-hover: #fde047;
  --danger: #fb7185;
  --danger-hover: #fda4af;
}

[data-theme="coral"] {
  --icon-agent: var(--brand);
  --icon-skill: var(--success);
  --icon-mcp: var(--warning);
  --icon-file-template: var(--accent);
  --icon-rule: var(--accent-hover);

  /* Avatar palette — coral/orange and slate tones */
  --avatar-0: var(--brand);
  --avatar-1: var(--brand-active);
  --avatar-2: var(--accent);
  --avatar-3: var(--accent-hover);
  --avatar-4: var(--surface-active);
  --avatar-5: #c2410c; /* deep coral */

  --brand: #f97316; /* Coral/Orange */
  --brand-hover: #fb923c;
  --brand-active: #ea580c;
  --brand-light: #fdba74;
  
  --accent: #64748b; /* Slate */
  --accent-hover: #94a3b8;
  --accent-light: #cbd5e1;
  --accent-hover-light: #e2e8f0;

  --bg-base: #18181b;
  --bg-sidebar: #09090b;
  --bg-input: #27272a;
  --bg-input-dark: #18181b;

  --surface: #27272a;
  --surface-hover: #3f3f46;
  --surface-active: #52525b;

  --border-strong: #3f3f46;

  --text-base: #fafafa;
  --text-muted: #a1a1aa;

  --success: #22c55e;
  --success-light: #4ade80;
  --success-active: #16a34a;
  --warning: #eab308;
  --warning-hover: #facc15;
  --danger: #ef4444;
  --danger-hover: #f87171;
}




[data-theme="arctic-light"] {
  --icon-agent: var(--brand);
  --icon-skill: var(--success);
  --icon-mcp: var(--warning);
  --icon-file-template: var(--accent);
  --icon-rule: var(--accent-hover);

  /* Avatar palette — pale blues and teals */
  --avatar-0: var(--brand);
  --avatar-1: var(--accent);
  --avatar-2: var(--brand-active);
  --avatar-3: var(--brand-hover);
  --avatar-4: var(--accent-hover);
  --avatar-5: #0369a1; /* deep sky */

  --brand: #0ea5e9; /* Sky Blue */
  --brand-hover: #38bdf8;
  --brand-active: #0284c7;
  --brand-light: #7dd3fc;
  
  --accent: #14b8a6; /* Teal */
  --accent-hover: #2dd4bf;
  --accent-light: #5eead4;
  --accent-hover-light: #99f6e4;

  --bg-base: #f8fafc;
  --bg-sidebar: #f1f5f9;
  --bg-input: #ffffff;
  --bg-input-dark: #f8fafc;

  --surface: #ffffff;
  --surface-hover: #f8fafc;
  --surface-active: #f1f5f9;

  --border-strong: #e2e8f0;

  --text-base: #0f172a;
  --text-muted: #475569;

  --success: #10b981;
  --success-light: #34d399;
  --success-active: #059669;
  --warning: #f59e0b;
  --warning-hover: #fbbf24;
  --danger: #ef4444;
  --danger-hover: #f87171;
}

[data-theme="corporate-light"] {
  --icon-agent: var(--text-muted);
  --icon-skill: #3a3a3a;
  --icon-mcp: #6b6b6b;
  --icon-file-template: #8a8a8a;
  --icon-rule: #5a5a5a;

  /* Avatar palette — monochrome grey shades for the no-colour light theme */
  --avatar-0: #3a3a3a;
  --avatar-1: #4a4a4a;
  --avatar-2: #5a5a5a;
  --avatar-3: #6b6b6b;
  --avatar-4: #2a2a2a;
  --avatar-5: #7a7a7a;

  /* Corporate Light: grayscale light inverse of Sleek — no colour */
  --brand: #2a2a2a;
  --brand-hover: #3a3a3a;
  --brand-active: #1a1a1a;
  --brand-light: #6b6b6b;

  --accent: #4a4a4a;
  --accent-hover: #5a5a5a;
  --accent-light: #8a8a8a;
  --accent-hover-light: #b0b0b0;

  --bg-base: #f5f5f5;
  --bg-sidebar: #ebebeb;
  --bg-input: #ffffff;
  --bg-input-dark: #f5f5f5;

  --surface: #ffffff;
  --surface-hover: #f5f5f5;
  --surface-active: #e8e8e8;

  --border-strong: #d4d4d4;

  --text-base: #0a0a0a;
  --text-muted: #5a5a5a;

  --success: #5a5a5a;
  --success-light: #8a8a8a;
  --success-active: #3a3a3a;
  --warning: #5a5a5a;
  --warning-hover: #8a8a8a;
  --danger: #3a3a3a;
  --danger-hover: #5a5a5a;
}

[data-theme="accessible"] {
  --icon-agent: var(--brand);
  --icon-skill: var(--success);
  --icon-mcp: var(--warning);
  --icon-file-template: var(--accent);
  --icon-rule: var(--accent-hover);

  /* Avatar palette — tracks the semantic colors selected for the types */
  --avatar-0: var(--brand);        /* Agent */
  --avatar-1: var(--success);      /* Skill */
  --avatar-2: var(--warning);      /* MCP */
  --avatar-3: var(--accent);       /* File Template */
  --avatar-4: var(--accent-hover); /* Rule */
  --avatar-5: var(--brand-active);

  /* Accessible: WCAG AA+, CVD-safe blue palette, no red/green reliance */
  --brand: #1d4ed8;        /* Blue-700 — 5.9:1 on white */
  --brand-hover: #1e40af;  /* Blue-800 — deeper on hover */
  --brand-active: #1e3a8a; /* Blue-900 — active press */
  --brand-light: #bfdbfe;  /* Blue-200 — tinted bg */

  --accent: #0369a1;       /* Sky-700 — distinct from brand, still CVD-safe */
  --accent-hover: #075985; /* Sky-800 */
  --accent-light: #bae6fd; /* Sky-200 */
  --accent-hover-light: #e0f2fe; /* Sky-100 */

  --bg-base: #f9fafb;      /* Gray-50 */
  --bg-sidebar: #f3f4f6;   /* Gray-100 */
  --bg-input: #ffffff;
  --bg-input-dark: #f9fafb;

  --surface: #ffffff;
  --surface-hover: #f3f4f6;
  --surface-active: #e5e7eb;

  --border-strong: #9ca3af; /* Gray-400 — 3:1 contrast on white, visible to all CVD types */

  --text-base: #111827;    /* Gray-900 — 16:1 on white */
  --text-muted: #374151;   /* Gray-700 — 10:1 on white */

  /* Semantic: dark enough to read as text; distinguishable in full grayscale */
  --success: #166534;      /* Green-800 — 7.2:1 on white */
  --success-light: #dcfce7;
  --success-active: #14532d;
  --warning: #92400e;      /* Amber-800 — 7.5:1 on white */
  --warning-hover: #78350f;
  --danger: #9f1239;       /* Rose-900 — 9.1:1 on white */
  --danger-hover: #881337;
}

[data-theme="light"] {
  /* Avatar palette — focus on indigo and violet */
  --avatar-0: var(--brand);
  --avatar-1: var(--accent);
  --avatar-2: var(--brand-active);
  --avatar-3: var(--brand-hover);
  --avatar-4: var(--accent-hover);
  --avatar-5: #4338ca; /* deep indigo */

  --brand: #4f46e5; /* Indigo */
  --brand-hover: #6366f1;
  --brand-active: #4338ca;
  --brand-light: #a5b4fc;
  
  --accent: #8b5cf6; /* Violet */
  --accent-hover: #a78bfa;
  --accent-light: #c4b5fd;
  --accent-hover-light: #ddd6fe;

  --bg-base: #fafafa;
  --bg-sidebar: #f4f4f5;
  --bg-input: #ffffff;
  --bg-input-dark: #fafafa;

  --surface: #ffffff;
  --surface-hover: #fafafa;
  --surface-active: #f4f4f5;

  --border-strong: #e4e4e7;

  --text-base: #09090b;
  --text-muted: #52525b;

  --success: #22c55e;
  --success-light: #4ade80;
  --success-active: #16a34a;
  --warning: #f59e0b;
  --warning-hover: #fbbf24;
  --danger: #ef4444;
  --danger-hover: #f87171;
}


.agent-icon {
  /* Default dark themes: force the icons to white */
  filter: brightness(0) invert(1);
}

[data-theme="light"] .agent-icon,
[data-theme="arctic-light"] .agent-icon,
[data-theme="corporate-light"] .agent-icon,
[data-theme="accessible"] .agent-icon {
  /* Light themes: force the icons to dark grey to match text-base */
  /* brightness(0) makes them black, opacity lightens them slightly to match dark slate/zinc */
  filter: brightness(0);
  opacity: 0.85;
}

/* Tauri drag regions: prevent text selection while dragging the titlebar */

[data-tauri-drag-region] {
  -webkit-user-select: none;
  user-select: none;
  cursor: default;
}

:root {
  font-family: Inter, Avenir, Helvetica, Arial, sans-serif;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  padding: 0;
  background-color: #222327;
  color: #FAFAFA;
}

/* Custom Webkit Scrollbar */
.custom-scrollbar::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #3A3B42;
  border: 3px solid transparent;
  background-clip: padding-box;
  border-radius: 9999px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #4A4B52;
  border: 3px solid transparent;
  background-clip: padding-box;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-2px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fadeIn 0.2s ease-out forwards;
}

/* ── Dashboard mesh background ── */

/* Slow drift for gradient orbs */
@keyframes orb-drift-1 {
  0%   { transform: translate(0, 0) scale(1); }
  33%  { transform: translate(60px, -40px) scale(1.08); }
  66%  { transform: translate(-30px, 50px) scale(0.95); }
  100% { transform: translate(0, 0) scale(1); }
}

@keyframes orb-drift-2 {
  0%   { transform: translate(0, 0) scale(1); }
  40%  { transform: translate(-70px, 30px) scale(1.05); }
  70%  { transform: translate(40px, -60px) scale(0.97); }
  100% { transform: translate(0, 0) scale(1); }
}

@keyframes orb-drift-3 {
  0%   { transform: translate(0, 0) scale(1); }
  50%  { transform: translate(50px, 50px) scale(1.06); }
  100% { transform: translate(0, 0) scale(1); }
}

/* SVG grid line pulse */
@keyframes grid-pulse {
  0%, 100% { opacity: 0.18; }
  50%       { opacity: 0.28; }
}

/* Dot grid shimmer */
@keyframes dot-shimmer {
  0%, 100% { opacity: 0.12; }
  50%       { opacity: 0.22; }
}

.dashboard-bg {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

/* Orb 1 — indigo, top-left */
.dashboard-bg__orb-1 {
  position: absolute;
  top: -120px;
  left: -80px;
  width: 520px;
  height: 520px;
  border-radius: 9999px;
  background: radial-gradient(circle, rgba(94, 106, 210, 0.18) 0%, transparent 70%);
  animation: orb-drift-1 22s ease-in-out infinite;
}

/* Orb 2 — cyan/teal, bottom-right */
.dashboard-bg__orb-2 {
  position: absolute;
  bottom: -100px;
  right: -60px;
  width: 480px;
  height: 480px;
  border-radius: 9999px;
  background: radial-gradient(circle, rgba(34, 211, 238, 0.12) 0%, transparent 70%);
  animation: orb-drift-2 28s ease-in-out infinite;
}

/* Orb 3 — violet, center-right */
.dashboard-bg__orb-3 {
  position: absolute;
  top: 30%;
  right: 10%;
  width: 340px;
  height: 340px;
  border-radius: 9999px;
  background: radial-gradient(circle, rgba(139, 92, 246, 0.10) 0%, transparent 70%);
  animation: orb-drift-3 18s ease-in-out infinite;
}

/* SVG dot grid */
.dashboard-bg__dots {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  animation: dot-shimmer 6s ease-in-out infinite;
}

/* Rule pill — selected state: solid fill with guaranteed contrast */
.rule-pill-selected {
  background-color: var(--brand);
  border-color: var(--brand-active);
  color: #ffffff;
}

[data-theme="corporate-dark"] .rule-pill-selected {
  background-color: var(--icon-rule);
  border-color: var(--border-strong);
  color: var(--bg-base);
}

/* SVG connecting lines (network graph) */
.dashboard-bg__grid {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  animation: grid-pulse 8s ease-in-out infinite;
}
